<html>
  <head>
  </head>
  <body style="margin: 0px;">
    <section class="header" style="width: 100%; height: 50px; background: #F5F5F5; padding-left: 8px; border-bottom: 1px solid #E5E5E5;">
      <div id="brand" style="float: left; height: 50px; width: 15%; margin-top: -8px;">
	<h1 style="vertical-align: top;">PicShare</h1>
      </div>
      <div id="actions" style="float: right; height: 50px; width: 15%; margin-right: 16px; margin-top: 8px;">
	<button style="float: right;" onclick="exit();">Quit</button>
      </div>
    </section>

    <div class="content">
      <ul class="photoList" id="photoList">
      </ul>
    </div>

    <script>
      var ipc = require('ipc');
      var exit = function() {
        ipc.send('exit', true);
      }
      
      ipc.on('pictures', function(message) {
        photoHTML = ""
        for(var i = 0; i < message.images.length; i++) {
	   photoHTML += "<li>";
	   photoHTML += "<a href='" + message.root + "/v1/app/" + message.appid + "/binary/" + message.images[i].filename + "?apikey=" + message.apikey + "' target=_blank>"
	   photoHTML += message.images[i].filename;
           photoHTML += "</a>"
	   photoHTML += "</li>";
        }
        document.getElementById("photoList").innerHTML = photoHTML
        console.log('message:' + message);
      });
    </script>
  </body>
</html>
